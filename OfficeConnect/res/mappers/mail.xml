<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper   PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mail">


	<!-- 메일 쓰기 -->
	<insert id="writeMail" parameterType="vo.MailVO">
		insert into
		mail(MAIL_NO, MAIL_CONT, MAIL_SENDDATE, MAIL_SENDSTAT, MAIL_RECESTAT, MAIL_RECEIVER, MAIL_SENDER)
		values
		(MAIL_SEQ.nextval, #{mailCont}, #{mailSendDate}, #{mailSendStat}, #{mailReceStat},
		#{mailReceiver}, #{mailSender})
	</insert>


	<!-- 받은 메일 확인  -->
	<select id="getReceiveMail" resultMap="mailMap">
		select * from mail
		where mail_receiver = #{mailReceiver}
	</select>


	<!-- 보낸 메일 확인  -->
	<select id="getSendMail" resultMap="mailMap">
		select * from mail
		where mail_sender = #{mailSender}
	</select>


	<!-- 메일 삭제 -->	
	<delete id="deleteMail">
		delete from mail
		where mail_no = #{mailNo}
	</delete>
	

	<resultMap type="vo.MailVO" id="mailMap">
		<result column="MAIL_NO" property="mailNo" />
		<result column="MAIL_CONT" property="mailCont" />
		<result column="MAIL_SENDDATE" property="mailSendDate" />
		<result column="MAIL_SENDSTAT" property="mailSendStat" />
		<result column="MAIL_RECESTAT" property="mailReceStat" />
		<result column="MAIL_RECEIVER" property="mailReceiver" />
		<result column="MAIL_SENDER" property="mailSender" />
		<result column="MAIL_MAILTITLE" property="mailTitle" />
	</resultMap>
</mapper>