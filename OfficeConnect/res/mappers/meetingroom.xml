<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper   PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="meetingroom">

<!-- 
   이 영역에 sql문에 맞는 태그를 사용하여 SQL문을 기술한다
   
   사용할 수 있는 기본적인 태그들
   <select> ~~~ </select>
   <insert> ~~~ </insert>
   <update> ~~~ </update>
   <delete> ~~~ </delete>
   
   위 태그에서 사용되는 속성들
   1) id : 해당 태그를 호출할 때 namespace와 연결하여 사용하는 이름
   어떤타입인지 알려주는거? 파라미터값이 뭔지 알려주는거?
   이게 map타입이다? ? ..? result타입 -> select일때만
   결국 mymatics가 해야되는 작업 = 
   2) parameterType : SQL문에 사용될 데이터가 들어있는 객체타입을 지정한다
                  (보통VO클래스, 자바의 자료형이름 등이 사용된다);
                  (typeAlias로 지정한 alias명을 사용할 수 있다)
   3) resultType : select문으 실행한 결과를 담을 객체타입을 지정한다
               (보통 VO클래스나 자바의 자료형이름을 사용한다)
               (typeAlias로 지정한 alias명을 사용할 수 있다)
   4) resultMap : 결과 레코드 컬럼명과 VO객체의 property명이 다를 경우에 적절한 매핑을 위해 사용한다
   
 -->

    <select id="selectAll" resultType="mtvo" resultMap="mtrMap">
       select * from mtrbook
    </select>
   
   <select id="selectMeetingRoom" resultType="vo.MeetingRoomVO">
      select mtr_no as mtrNo, mtr_per as mtrPer from meetingroom
   </select>
   
   <insert id="insertBook" parameterType = "mtvo">
      insert into mtrbook (mtrbook_no, mtr_no, emp_no, mtrbook_rent, mtrbook_return, mtrbook_per, mtrbook_cont)
      values(mtr_book_seq.nextval, #{mtrNo}, #{empNo}, #{mtrbookRent}, #{mtrbookRtn}, #{mtrbookPer}, #{mtrbookCont})
   </insert>
   
   <delete id="deleteBook" parameterType="String">
	  delete from mtrbook where emp_no = #{empNo}
   </delete>
   

   <resultMap type="vo.MeetingBookVO" id="mtrMap">
      <result column="mtrbook_no" property="mtrbookNo"/>
      <result column="mtr_no" property="mtrNo"/>
      <result column="emp_no" property="empNo"/>
      <result column="mtrbook_rent" property="mtrbookRent"/>
      <result column="mtrbook_return" property="mtrbookRtn"/>
      <result column="mtrbook_per" property="mtrbookPer"/>
      <result column="mtrbook_cont" property="mtrbookCont"/>
   </resultMap>


</mapper>