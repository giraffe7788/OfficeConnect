<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="board">
  
    <select id="boardList" resultType="boardvo">
       select * from board
    </select>
    
    <insert id="boardInsert" parameterType="boardvo">
        insert into board(brd_no,brd_title,brd_cont)
        values(
        board_seq.nextval,
        #{brdTitle},
        #{brdCont}      
        )       
    </insert>
    
    <insert id="boardInsertFile" parameterType="boardvo">
        insert into board(id, pass, name, age, email, phone, filename)
        values(
        #{id},
        #{pass},
        #{name},
        #{age},
        #{email},
        #{phone},
        #{filename}
        )       
    </insert>
        
    <delete id="deleteboard" parameterType="Integer">  
        delete from board where brd_no=#{brdNo}
    </delete>
    
    <select id="detailboard" parameterType="Integer" resultType="boardvo">        
        select * from board where brd_no=#{brdNo}
    </select>
    
    <update id="updateboard" parameterType="boardvo">
         update board 
         set brd_title=#{brdTitle}, brd_cont=#{brdCont}, brd_mod=SYSDATE 
         where brd_no=#{brdNo}	 
    </update>
    
    
    <update id="boardDeleteFile" parameterType="Integer">
        update board set filename='' where num=#{num}        
    </update>
    
    <update id="boardUpdateFile" parameterType="boardvo">
        update board 
        set age=#{age}, email=#{email}, phone=#{phone}, filename=#{filename}  
        where num=#{num}  
    </update>
</mapper>